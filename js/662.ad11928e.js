"use strict";(self["webpackChunkmekashron"]=self["webpackChunkmekashron"]||[]).push([[662],{662:function(s,e,r){r.r(e),r.d(e,{default:function(){return E}});var a=r(396),o=r(862),n=r(139);const i={key:0},t={class:"container mt-5"},l={class:"row"},d={class:"col-sm-4 mx-auto"},c={class:"form-group"},u=(0,a._)("label",{for:""},"Username:",-1),g={key:0,class:"invalid-feedback"},m={class:"form-group"},p=(0,a._)("label",{for:""},"Password:",-1),w={key:0,class:"invalid-feedback"},h={class:"form-group"},v={key:0},f={key:1},k={class:"form-group d-flex justify-content-between"},_=(0,a._)("button",{type:"submit",class:"btn btn-primary"},"Login",-1),y={key:0,class:"spinner-border",role:"status"};function S(s,e,r,S,b,M){return s.loginStatus!==s.loginStatus.loggedIn?((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",t,[(0,a._)("div",l,[(0,a._)("div",d,[(0,a._)("form",{onSubmit:e[2]||(e[2]=(0,o.iM)(((...s)=>M.handleLogin&&M.handleLogin(...s)),["prevent"]))},[(0,a._)("div",c,[u,(0,a.wy)((0,a._)("input",{ref:"username","onUpdate:modelValue":e[0]||(e[0]=s=>b.username=s),type:"text",class:"form-control",placeholder:"Enter username"},null,512),[[o.nr,b.username]]),b.errors[0]?((0,a.wg)(),(0,a.iD)("div",g,(0,n.zw)(b.errors[0].message),1)):(0,a.kq)("",!0)]),(0,a._)("div",m,[p,(0,a.wy)((0,a._)("input",{ref:"password","onUpdate:modelValue":e[1]||(e[1]=s=>b.password=s),type:"password",class:"form-control",placeholder:"Enter password"},null,512),[[o.nr,b.password]]),b.errors[1]?((0,a.wg)(),(0,a.iD)("div",w,(0,n.zw)(b.errors[1].message),1)):(0,a.kq)("",!0)]),(0,a._)("div",h,[(0,a._)("small",{class:(0,n.C_)(["form-text",{"text-danger":s.loginErrorMessage,"text-success":s.loginSuccessMessage}])},[s.loginSuccessMessage?((0,a.wg)(),(0,a.iD)("div",v,(0,n.zw)(s.loginSuccessMessage??" "),1)):((0,a.wg)(),(0,a.iD)("div",f,(0,n.zw)(s.loginErrorMessage??" "),1))],2)]),(0,a._)("div",k,[_,M.showSpinner?((0,a.wg)(),(0,a.iD)("div",y)):(0,a.kq)("",!0)])],32)])])])])):(0,a.kq)("",!0)}var b=r(65),M=r(364),L={name:"LoginPage",data(){return{username:"",password:"",errors:[]}},computed:{...(0,b.rn)({loginStatus:s=>s.account.loginStatus,loginSuccessMessage:s=>s.account.successMessage,loginErrorMessage:s=>s.account.errorMessage}),showSpinner(){return this.loginStatus===M.u.logging}},watch:{username(){},password(){}},methods:{async handleLogin(){this.loginStatus!==M.u.logging&&this.loginStatus!==M.u.loggedIn&&(this.validate(),0===this.errors.length&&await this.$store.dispatch("account/login",{username:this.username,password:this.password}))},validate(){const s=this.$refs.username,e=this.$refs.password;this.errors=[],s.classList.remove("is-invalid"),e.classList.remove("is-invalid"),this.username||(s.classList.add("is-invalid"),this.errors[0]={message:"Please provide a valid username"}),this.password||(e.classList.add("is-invalid"),this.errors[1]={message:"Please provide a valid password"})}}},x=r(89);const D=(0,x.Z)(L,[["render",S]]);var E=D}}]);
//# sourceMappingURL=662.ad11928e.js.map