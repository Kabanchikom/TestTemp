{"version":3,"file":"js/662.ad11928e.js","mappings":"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","sources":["webpack://mekashron/./src/pages/LoginPage.vue","webpack://mekashron/./src/pages/LoginPage.vue?3607"],"sourcesContent":["<template>\r\n  <div v-if=\"loginStatus !== loginStatus.loggedIn\">\r\n    <div class=\"container mt-5\">\r\n      <div class=\"row\">\r\n        <div class=\"col-sm-4 mx-auto\">\r\n          <form @submit.prevent=\"handleLogin\">\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"\">Username:</label>\r\n              <input ref=\"username\" v-model=\"username\" type=\"text\" class=\"form-control\" placeholder=\"Enter username\">\r\n              <div class=\"invalid-feedback\" v-if=\"errors[0]\">\r\n                {{ errors[0].message }}\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"\">Password:</label>\r\n              <input ref=\"password\" v-model=\"password\" type=\"password\" class=\"form-control\"\r\n                     placeholder=\"Enter password\">\r\n              <div class=\"invalid-feedback\" v-if=\"errors[1]\">\r\n                {{ errors[1].message }}\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <small class=\"form-text\"\r\n                     :class=\"{ 'text-danger': loginErrorMessage, 'text-success': loginSuccessMessage}\">\r\n                <div v-if=\"loginSuccessMessage\">\r\n                  {{ loginSuccessMessage ?? '&nbsp;'}}\r\n                </div>\r\n                <div v-else>\r\n                  {{ loginErrorMessage ?? '&nbsp;' }}\r\n                </div>\r\n              </small>\r\n            </div>\r\n\r\n            <div class=\"form-group d-flex justify-content-between\">\r\n              <button type=\"submit\" class=\"btn btn-primary\">Login</button>\r\n              <div v-if=\"showSpinner\" class=\"spinner-border\" role=\"status\"></div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from \"vuex\"\r\nimport {loginStatus} from \"@/store/accountModule\";\r\n\r\nexport default {\r\n  name: \"LoginPage\",\r\n\r\n  data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      errors: []\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState({\r\n      loginStatus: state => state.account.loginStatus,\r\n      loginSuccessMessage: state => state.account.successMessage,\r\n      loginErrorMessage: state => state.account.errorMessage\r\n    }),\r\n    showSpinner() {\r\n      return this.loginStatus === loginStatus.logging;\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    username() {\r\n      // this.validate();\r\n    },\r\n    password() {\r\n      // this.validate();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async handleLogin() {\r\n      if(this.loginStatus === loginStatus.logging || this.loginStatus === loginStatus.loggedIn) return;\r\n\r\n      this.validate();\r\n\r\n      if (this.errors.length === 0) {\r\n        await this.$store.dispatch(\"account/login\", {\r\n          username: this.username,\r\n          password: this.password\r\n        })\r\n      }\r\n    },\r\n    validate() {\r\n      const username = this.$refs.username;\r\n      const password = this.$refs.password;\r\n\r\n      this.errors = [];\r\n      username.classList.remove('is-invalid')\r\n      password.classList.remove('is-invalid')\r\n\r\n      if(!this.username) {\r\n        username.classList.add('is-invalid');\r\n        this.errors[0] = {\r\n          message: 'Please provide a valid username'\r\n        };\r\n      }\r\n\r\n      if(!this.password) {\r\n        password.classList.add('is-invalid');\r\n        this.errors[1] = {\r\n          message: 'Please provide a valid password'\r\n        };\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import { render } from \"./LoginPage.vue?vue&type=template&id=cebc95e4\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\source\\\\repos\\\\TestTask06022023\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","role","_ctx","loggedIn","_createElementBlock","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","$options","_hoisted_5","_hoisted_6","ref","$data","placeholder","_hoisted_7","message","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_14","_hoisted_15","_hoisted_16","name","data","username","password","errors","computed","mapState","loginStatus","state","account","loginSuccessMessage","successMessage","loginErrorMessage","errorMessage","showSpinner","this","watch","methods","async","validate","length","$store","dispatch","$refs","classList","remove","add","__exports__","render"],"sourceRoot":""}